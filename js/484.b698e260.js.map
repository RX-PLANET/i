{"version":3,"file":"js/484.b698e260.js","mappings":"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","sources":["webpack://i/./src/components/common/page-header.vue","webpack://i/./src/components/common/page-header.vue?11cf","webpack://i/./src/views/security/password.vue","webpack://i/./src/views/security/password.vue?b126"],"sourcesContent":["<template>\n    <div class=\"c-header\">\n        <div class=\"c-header_main\">\n            <div class=\"c-header-left\">\n                <div class=\"c-header__title\" v-if=\"routeMeta?.title\">{{ routeMeta.title }}</div>\n                <div class=\"c-header__desc\" v-if=\"routeMeta?.desc\">{{ routeMeta.desc }}</div>\n            </div>\n            <div class=\"c-header-right\">\n                <lang-select class=\"c-header__lang\" selected=\"icon\" @change=\"onLangChange\" :lang=\"lang\"></lang-select>\n                <el-dropdown trigger=\"click\">\n                    <div class=\"c-header__profile\">\n                        <span class=\"u-name\">{{ profile.username || profile.nickname }}</span>\n                        <!-- <el-avatar class=\"u-avatar\" :src=\"avatar\" shape=\"square\"></el-avatar> -->\n                    </div>\n                    <template #dropdown>\n                        <el-dropdown-menu>\n                            <el-dropdown-item @click.stop=\"logout\">\n                                {{ $t(\"account.common.logout\") }}\n                            </el-dropdown-item>\n                        </el-dropdown-menu>\n                    </template>\n                </el-dropdown>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport User from \"@iruxu/rx-common/utils/user\";\nimport { logout, updateUserInfo } from \"@/service/account\";\nexport default {\n    name: \"PageHeader\",\n    data: function () {\n        return {};\n    },\n    computed: {\n        routeMeta() {\n            return this.$route.meta;\n        },\n        profile() {\n            return this.$store.state.user;\n        },\n        avatar() {\n            return (this.profile?.avatar && this.profile.avatar != \"null\") || require(\"@/assets/img/test.png\");\n        },\n        app() {\n            return this.$store.state.app;\n        },\n        lang() {\n            return User.getLocale();\n        },\n    },\n    watch: {},\n    methods: {\n        logout() {\n            logout().then(() => {\n                User.logout();\n                this.$router.push({ name: \"email-login\" });\n            });\n        },\n        onLangChange(lang) {\n            updateUserInfo({ lang }, { app: this.app }).then(() => {\n                // User.setLocale(lang);\n                // this.$i18n.locale = lang;\n                location.reload();\n            });\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"@/assets/css/common/page-header.less\";\n</style>\n","import { render } from \"./page-header.vue?vue&type=template&id=74be1584\"\nimport script from \"./page-header.vue?vue&type=script&lang=js\"\nexport * from \"./page-header.vue?vue&type=script&lang=js\"\n\nimport \"./page-header.vue?vue&type=style&index=0&id=74be1584&lang=less\"\n\nimport exportComponent from \"/home/runner/work/i/i/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"p-bind p-change-password\">\n        <page-header></page-header>\n        <div class=\"m-change-password m-bind-block\">\n            <div class=\"m-bind-block__pic\">\n                <img src=\"@/assets/img/bind/password.svg\" />\n            </div>\n            <div class=\"m-bind-block__main\">\n                <h1 class=\"u-header\">{{ $t(\"security.nav.password\") }}</h1>\n                <div class=\"u-slogan\">{{ $t(\"security.password.alert\") }}</div>\n                <div class=\"m-login-card m-card-main\">\n                    <el-form\n                        class=\"m-card-form\"\n                        hide-required-asterisk\n                        ref=\"registerForm\"\n                        :model=\"form\"\n                        :rules=\"rules\"\n                        size=\"large\"\n                        status-icon\n                        label-position=\"top\"\n                    >\n                        <el-form-item prop=\"password1\">\n                            <template #label>\n                                <div class=\"m-card-form-label\">\n                                    <span>{{ $t(\"security.password.new\") }}<i class=\"is-required\">*</i></span>\n                                </div>\n                            </template>\n                            <el-input\n                                v-model.trim=\"form.password1\"\n                                type=\"password\"\n                                size=\"large\"\n                                show-password\n                                :placeholder=\"$t('security.password.new')\"\n                            >\n                            </el-input>\n                        </el-form-item>\n                        <el-form-item prop=\"password2\">\n                            <template #label>\n                                <div class=\"m-card-form-label\">\n                                    <span>{{ $t(\"security.password.repeat\") }}<i class=\"is-required\">*</i></span>\n                                </div>\n                            </template>\n                            <el-input\n                                v-model.trim=\"form.password2\"\n                                type=\"password\"\n                                size=\"large\"\n                                show-password\n                                :placeholder=\"$t('security.password.repeat')\"\n                            ></el-input>\n                        </el-form-item>\n                    </el-form>\n                    <el-button\n                        type=\"primary\"\n                        size=\"large\"\n                        :disabled=\"!form.password1 || !form.password2 || loading\"\n                        @click=\"submit\"\n                        :loading=\"loading\"\n                        style=\"width: 100%\"\n                        >{{ $t(\"notification.email.confirm\") }}</el-button\n                    >\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport { changePassword, logout } from \"@/service/account\";\nimport pageHeader from \"@/components/common/page-header.vue\";\nimport User from \"@iruxu/rx-common/utils/user\";\nexport default {\n    name: \"dashboard-security-password\",\n    components: {\n        pageHeader,\n    },\n    data() {\n        return {\n            form: {\n                password1: \"\",\n                password2: \"\",\n            },\n            rules: {\n                password1: [\n                    { required: true, message: this.$t(\"account.common.passwordPlaceholder\"), trigger: \"blur\" },\n                    { min: 6, max: 30, message: this.$t(\"account.common.passwordError\"), trigger: \"blur\" },\n                ],\n                password2: [\n                    { required: true, message: this.$t(\"account.common.password2Placeholder\"), trigger: \"blur\" },\n                    { min: 6, max: 30, message: this.$t(\"account.common.passwordError\"), trigger: \"blur\" },\n                    {\n                        validator: (rule, value, callback) => {\n                            if (value !== this.form.password1) {\n                                callback(new Error(this.$t(\"account.common.passwordError2\")));\n                            } else {\n                                callback();\n                            }\n                        },\n                        trigger: \"blur\",\n                    },\n                ],\n            },\n            loading: false,\n        };\n    },\n    computed: {\n        ...mapState([\"app\"]),\n    },\n    methods: {\n        logout() {\n            logout().then(() => {\n                User.logout();\n                this.$router.replace({ name: \"email-login\" });\n            });\n        },\n        submit() {\n            this.$refs.registerForm.validate((valid) => {\n                if (valid) {\n                    this.loading = true;\n                    const params = {};\n                    if (this.app !== \"iruxu\") {\n                        params.app = this.app;\n                    }\n                    changePassword(this.form, params)\n                        .then(() => {\n                            this.$message.success(this.$t(\"security.password.changeSuccess\"));\n\n                            this.logout();\n                        })\n                        .finally(() => {\n                            this.loading = false;\n                        });\n                }\n            });\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/account/common.less\";\n@import \"~@/assets/css/account/email/login.less\";\n@import \"~@/assets/css/notification/bind/bind.less\";\n.m-change-password {\n    .el-input__wrapper.is-focus {\n        background-color: @primary-bgc;\n    }\n    input:-internal-autofill-selected {\n        background: none !important;\n    }\n    input:-webkit-autofill {\n        -webkit-appearance: none !important;\n        appearance: none !important;\n        background: #fff !important;\n    }\n}\n</style>\n","import { render } from \"./password.vue?vue&type=template&id=57e5890a\"\nimport script from \"./password.vue?vue&type=script&lang=js\"\nexport * from \"./password.vue?vue&type=script&lang=js\"\n\nimport \"./password.vue?vue&type=style&index=0&id=57e5890a&lang=less\"\n\nimport exportComponent from \"/home/runner/work/i/i/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","$options","title","_toDisplayString","desc","_createVNode","_component_lang_select","selected","onChange","lang","_component_el_dropdown","trigger","dropdown","_component_el_dropdown_menu","_component_el_dropdown_item","onClick","_ctx","username","nickname","name","data","computed","routeMeta","this","$route","meta","profile","$store","state","user","avatar","require","app","User","watch","methods","logout","then","$router","push","onLangChange","updateUserInfo","location","reload","__exports__","render","_component_page_header","src","_imports_0","_component_el_form","ref","model","$data","rules","size","_component_el_form_item","prop","label","_component_el_input","password1","$event","trim","type","placeholder","password2","_component_el_button","disabled","loading","style","components","pageHeader","form","required","message","$t","min","max","validator","rule","value","callback","Error","mapState","replace","submit","$refs","registerForm","validate","valid","params","changePassword","$message","success","finally"],"sourceRoot":""}