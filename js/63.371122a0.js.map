{"version":3,"file":"js/63.371122a0.js","mappings":"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","sources":["webpack://i/./src/components/common/page-header.vue","webpack://i/./src/components/common/page-header.vue?11cf","webpack://i/./src/views/notification/bind-email.vue","webpack://i/./src/views/notification/bind-email.vue?3a57"],"sourcesContent":["<template>\n    <div class=\"c-header\">\n        <div class=\"c-header_main\">\n            <div class=\"c-header-left\">\n                <div class=\"c-header__title\" v-if=\"routeMeta?.title\">{{ routeMeta.title }}</div>\n                <div class=\"c-header__desc\" v-if=\"routeMeta?.desc\">{{ routeMeta.desc }}</div>\n            </div>\n            <div class=\"c-header-right\">\n                <lang-select class=\"c-header__lang\" selected=\"icon\" @change=\"onLangChange\" :lang=\"lang\"></lang-select>\n                <el-dropdown trigger=\"click\">\n                    <div class=\"c-header__profile\">\n                        <span class=\"u-name\">{{ profile.username || profile.nickname }}</span>\n                        <!-- <el-avatar class=\"u-avatar\" :src=\"avatar\" shape=\"square\"></el-avatar> -->\n                    </div>\n                    <template #dropdown>\n                        <el-dropdown-menu>\n                            <el-dropdown-item @click.stop=\"logout\">\n                                {{ $t(\"account.common.logout\") }}\n                            </el-dropdown-item>\n                        </el-dropdown-menu>\n                    </template>\n                </el-dropdown>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport User from \"@iruxu/rx-common/utils/user\";\nimport { logout, updateUserInfo } from \"@/service/account\";\nexport default {\n    name: \"PageHeader\",\n    data: function () {\n        return {};\n    },\n    computed: {\n        routeMeta() {\n            return this.$route.meta;\n        },\n        profile() {\n            return this.$store.state.user;\n        },\n        avatar() {\n            return (this.profile?.avatar && this.profile.avatar != \"null\") || require(\"@/assets/img/test.png\");\n        },\n        app() {\n            return this.$store.state.app;\n        },\n        lang() {\n            return User.getLocale();\n        },\n    },\n    watch: {},\n    methods: {\n        logout() {\n            logout().then(() => {\n                User.logout();\n                this.$router.push({ name: \"email-login\" });\n            });\n        },\n        onLangChange(lang) {\n            updateUserInfo({ lang }, { app: this.app }).then(() => {\n                // User.setLocale(lang);\n                // this.$i18n.locale = lang;\n                location.reload();\n            });\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"@/assets/css/common/page-header.less\";\n</style>\n","import { render } from \"./page-header.vue?vue&type=template&id=74be1584\"\nimport script from \"./page-header.vue?vue&type=script&lang=js\"\nexport * from \"./page-header.vue?vue&type=script&lang=js\"\n\nimport \"./page-header.vue?vue&type=style&index=0&id=74be1584&lang=less\"\n\nimport exportComponent from \"/home/runner/work/i/i/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"p-bind p-bind-email\">\n        <page-header></page-header>\n        <div class=\"m-bind-email m-bind-block\">\n            <div class=\"m-bind-block__pic\">\n                <img src=\"@/assets/img/bind/email.svg\" />\n            </div>\n            <div class=\"m-bind-block__main\">\n                <h1 class=\"u-header\">{{ $t(\"notification.email.bindEmail\") }}</h1>\n                <div class=\"u-slogan\">{{ $t(\"notification.email.bindEmailAlert\") }}</div>\n                <template v-if=\"profile.email && !isEdit\">\n                    <div class=\"m-current\">\n                        {{ $t(\"notification.email.currentBind\") }}:\n                        <span class=\"u-current\">{{ profile.email || $t(\"notification.email.noBind\") }}</span>\n                        <span class=\"u-status--success\" v-if=\"profile.email\"\n                            ><el-icon><CircleCheckFilled /></el-icon\n                        ></span>\n                    </div>\n                    <div class=\"u-bind-tips\">{{ $t(\"account.common.accountBind\") }}</div>\n                    <el-button class=\"u-edit-btn\" @click=\"onEditBind\">{{ $t(\"account.common.editBind\") }}</el-button>\n                </template>\n                <div class=\"m-login-card m-card-main\" v-if=\"!profile.email || isEdit\">\n                    <el-form\n                        class=\"m-card-form\"\n                        hide-required-asterisk\n                        ref=\"registerForm\"\n                        :model=\"form\"\n                        :rules=\"rules\"\n                        size=\"large\"\n                        status-icon\n                        label-position=\"top\"\n                    >\n                        <el-form-item prop=\"email\">\n                            <template #label>\n                                <div class=\"m-card-form-label\">\n                                    <span>{{ $t(\"notification.email.address\") }}<i class=\"is-required\">*</i></span>\n                                </div>\n                            </template>\n                            <el-input v-model.trim=\"form.email\" size=\"large\"> </el-input>\n                        </el-form-item>\n                        <el-form-item prop=\"code\" class=\"u-code\">\n                            <template #label>\n                                <div class=\"m-card-form-label\">\n                                    <span>{{ $t(\"notification.email.code\") }}<i class=\"is-required\">*</i></span>\n                                </div>\n                            </template>\n                            <el-input\n                                v-model.trim=\"form.code\"\n                                :placeholder=\"$t('notification.email.code')\"\n                                size=\"large\"\n                            ></el-input>\n                            <el-button\n                                class=\"u-btn-send\"\n                                size=\"small\"\n                                @click=\"sendCode\"\n                                :disabled=\"interval > 0 || !form.email\"\n                                >{{ $t(\"notification.email.send\")\n                                }}<span v-if=\"interval\">({{ interval }}s)</span></el-button\n                            >\n                        </el-form-item>\n                    </el-form>\n                    <el-button\n                        type=\"primary\"\n                        size=\"large\"\n                        :disabled=\"!form.email || loading\"\n                        @click=\"submit\"\n                        :loading=\"loading\"\n                        style=\"width: 100%\"\n                        >{{ $t(\"notification.email.confirm\") }}</el-button\n                    >\n\n                    <a class=\"u-back\" @click=\"onCancelEdit\" v-if=\"isEdit\"\n                        ><el-icon><ArrowLeftBold /></el-icon>{{ $t(\"account.common.back\") }}</a\n                    >\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { bindEmail, verifyEmail } from \"@/service/account\";\nimport pageHeader from \"@/components/common/page-header.vue\";\nexport default {\n    name: \"dashboard-bind-email\",\n    components: {\n        pageHeader,\n    },\n    props: {\n        app: {\n            type: String,\n            default: \"miipet\",\n        },\n    },\n    data() {\n        return {\n            form: {\n                email: \"\",\n                code: \"\",\n            },\n            rules: {\n                email: [\n                    { required: true, message: this.$t(\"notification.email.addressPlaceholder\"), trigger: \"blur\" },\n                    {\n                        validator: (rule, value, callback) => {\n                            if (value === this.profile.email) {\n                                callback(new Error(this.$t(\"notification.email.sameError\")));\n                            } else {\n                                callback();\n                            }\n                        },\n                        trigger: \"blur\",\n                    },\n                    { type: \"email\", message: this.$t(\"notification.email.addressError\"), trigger: \"blur\" },\n                ],\n                code: [{ required: true, message: this.$t(\"notification.phone.codePlaceholder\"), trigger: \"blur\" }],\n            },\n\n            interval: 0,\n            timer: null,\n            loading: false,\n\n            isEdit: false,\n        };\n    },\n    computed: {\n        profile() {\n            return this.$store.state.user;\n        },\n    },\n    methods: {\n        sendCode() {\n            bindEmail({ email: this.form.email }, { app: this.app }).then(() => {\n                this.$message.success(this.$t(\"notification.email.sendSuccess\"));\n                this.interval = 60;\n                const timer = setInterval(() => {\n                    this.interval--;\n                    if (this.interval <= 0) {\n                        clearInterval(timer);\n                    }\n                }, 1000);\n            });\n        },\n        submit() {\n            this.$refs.registerForm.validate((valid) => {\n                if (valid) {\n                    this.loading = true;\n                    verifyEmail({ code: this.form.code }, { app: this.app })\n                        .then(() => {\n                            this.$message.success(this.$t(\"account.common.bindSuccess\"));\n\n                            this.$store.dispatch(\"getProfile\");\n                        })\n                        .finally(() => {\n                            this.loading = false;\n                        });\n                }\n            });\n        },\n\n        onEditBind() {\n            this.isEdit = true;\n        },\n        onCancelEdit() {\n            this.isEdit = false;\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/account/common.less\";\n@import \"~@/assets/css/account/email/login.less\";\n@import \"~@/assets/css/notification/bind/bind.less\";\n</style>\n","import { render } from \"./bind-email.vue?vue&type=template&id=39e70baa\"\nimport script from \"./bind-email.vue?vue&type=script&lang=js\"\nexport * from \"./bind-email.vue?vue&type=script&lang=js\"\n\nimport \"./bind-email.vue?vue&type=style&index=0&id=39e70baa&lang=less\"\n\nimport exportComponent from \"/home/runner/work/i/i/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","$options","title","_toDisplayString","desc","_createVNode","_component_lang_select","selected","onChange","lang","_component_el_dropdown","trigger","dropdown","_component_el_dropdown_menu","_component_el_dropdown_item","onClick","_ctx","username","nickname","name","data","computed","routeMeta","this","$route","meta","profile","$store","state","user","avatar","require","app","User","watch","methods","logout","then","$router","push","onLangChange","updateUserInfo","location","reload","__exports__","render","_component_page_header","src","_imports_0","email","$data","_Fragment","key","_component_el_icon","_component_CircleCheckFilled","_component_el_button","_component_el_form","ref","model","rules","size","_component_el_form_item","prop","label","_component_el_input","$event","trim","code","placeholder","disabled","_hoisted_13","type","loading","style","_component_ArrowLeftBold","components","pageHeader","props","String","default","form","required","message","$t","validator","rule","value","callback","Error","interval","timer","isEdit","sendCode","bindEmail","$message","success","setInterval","clearInterval","submit","$refs","registerForm","validate","valid","verifyEmail","dispatch","finally","onEditBind","onCancelEdit"],"sourceRoot":""}