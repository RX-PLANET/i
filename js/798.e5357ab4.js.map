{"version":3,"file":"js/798.e5357ab4.js","mappings":"+IAEO,SAASA,EAAYC,GACxB,OAAOC,EAAAA,EAAAA,MAAOC,IAAK,4BAA2BF,O,yFCFzCG,MAAM,oB,GACFA,MAAM,Y,6GADfC,EAAAA,EAAAA,IAMM,MANN,EAMM,EALFC,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFFC,EAAAA,EAAAA,IAAwBC,EAAA,CAAjBC,IAAKC,EAAAA,KAAG,iBACfH,EAAAA,EAAAA,IAAiDI,EAAA,CAAnCC,KAAMF,EAAAA,KAAOG,SAAQC,EAAAA,YAAnC,+BAEJR,EAAAA,EAAAA,GAAgD,OAA3CF,MAAM,aAAaW,UAAQL,EAAAA,UAAhC,Y,SCLIN,MAAM,U,+DAAd,QAES,SAFT,EAES,EADL,OAAyF,KAArFY,KAAM,EAAAC,YAAab,MAAM,U,EAAS,OAA+C,OAA1CA,MAAM,QAAQ,gBAAYc,IAAK,EAAAC,S,kBAKlF,MAAMC,EAAc,QACpB,OACIC,KAAM,aACNC,MAAO,CACHb,IAAK,CACDc,KAAMC,OACNC,QAASL,IAGjBM,KAAM,WACF,MAAO,IAEXC,SAAU,CACNR,UAEI,OAAO,EAAQ,MAEnBF,cAEI,MAAO,O,UCnBnB,MAAMW,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,Q,wCFOA,GACIP,KAAM,gBACNQ,WAAY,CACRC,KADQ,EAERC,WAAUA,EAAAA,GAEdL,OACI,MAAO,CACHM,SAAS,EACTvB,IAAK,GACLR,KAAM,QACNgC,SAAU,GACVrB,KAAMsB,EAAAA,EAAAA,cAGdP,SAAU,CACNQ,OAEI,MAAqB,UAAdC,KAAKxB,OAGpByB,UACI,MAAMC,EAAS,IAAIC,gBAAgBN,SAASO,SAASF,QAEjDA,EAAOG,IAAI,OACXL,KAAK3B,IAAM6B,EAAOnC,IAAI,OAEtBiC,KAAK3B,IAAM,SAGf2B,KAAKM,QAETC,QAAS,CACLC,WAAWhC,GACPwB,KAAKxB,KAAOA,EACZwB,KAAKM,QAETA,OACI,MAAMzC,EAAOmC,KAAKnC,KAClB,GAAImC,KAAKD,MACLnC,EAAAA,EAAAA,GAAYC,GAAM4C,MAAMC,IAAQ,MAC5BV,KAAKH,UAAW,UAAAa,EAAIpB,KAAKA,YAAT,eAAeqB,UAAW,WAE3C,CACH,MAAMC,GAAOC,EAAAA,EAAAA,IAAY,oBAAmBhD,KAAQA,KAAQmC,KAAKxB,YACjEsC,MAAMF,GACDH,MAAMC,IACH,IAAKA,EAAIK,GACL,MAAM,IAAIC,MAAMN,EAAIO,QAExB,OAAOP,EAAIQ,UAEdT,MAAMnB,IACHU,KAAKH,SAAWP,KAEnB6B,OAAOC,IACJC,QAAQD,MAAMA,GACdpB,KAAKH,SAAW,WGlExC,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASyB,KAEpE,S","sources":["webpack://i/./src/service/document.js","webpack://i/./src/views/document/terms.vue","webpack://i/./node_modules/@iruxu/pkg-widget/src/components/common/logo.vue","webpack://i/./node_modules/@iruxu/pkg-widget/src/components/common/logo.vue?445f","webpack://i/./src/views/document/terms.vue?1a0e"],"sourcesContent":["import { $cms } from \"@iruxu/rx-common/utils/api.js\";\n\nexport function getDocument(slug) {\n    return $cms().get(`/api/cms/common/document/${slug}`);\n}\n","<template>\n    <div class=\"p-document-terms\">\n        <div class=\"m-header\">\n            <logo :app=\"app\"></logo>\n            <lang-select :lang=\"lang\" @change=\"langChange\" />\n        </div>\n        <div class=\"u-document\" v-html=\"document\"></div>\n    </div>\n</template>\n\n<script>\nimport Logo from \"@iruxu/pkg-widget/src/components/common/logo.vue\";\nimport LangSelect from \"@iruxu/pkg-widget/src/components/common/lang-select.vue\";\nimport User from \"@iruxu/rx-common/utils/user\";\nimport { getCdnLink } from \"@iruxu/rx-common/utils/common\";\nimport { getDocument } from \"@/service/document\";\nexport default {\n    name: \"DocumentTerms\",\n    components: {\n        Logo,\n        LangSelect,\n    },\n    data() {\n        return {\n            loading: false,\n            app: \"\",\n            slug: \"terms\",\n            document: \"\",\n            lang: User.getLocale(),\n        };\n    },\n    computed: {\n        isCn() {\n            // 中文\n            return this.lang === \"zh-CN\";\n        },\n    },\n    mounted() {\n        const search = new URLSearchParams(document.location.search);\n\n        if (search.has(\"app\")) {\n            this.app = search.get(\"app\");\n        } else {\n            this.app = \"miipet\";\n        }\n\n        this.load();\n    },\n    methods: {\n        langChange(lang) {\n            this.lang = lang;\n            this.load();\n        },\n        load() {\n            const slug = this.slug;\n            if (this.isCn) {\n                getDocument(slug).then((res) => {\n                    this.document = res.data.data?.content || \"-\";\n                });\n            } else {\n                const path = getCdnLink(`/common/document/${slug}/${slug}-${this.lang}.txt`);\n                fetch(path)\n                    .then((res) => {\n                        if (!res.ok) {\n                            throw new Error(res.status);\n                        }\n                        return res.text();\n                    })\n                    .then((data) => {\n                        this.document = data;\n                    })\n                    .catch((error) => {\n                        console.error(error);\n                        this.document = \"-\";\n                    });\n            }\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n.p-document-terms {\n    padding: 20px;\n    max-width: 1000px;\n    box-sizing: border-box;\n    margin: 0 auto;\n\n    @media screen and (max-width: @phone) {\n        width: 100%;\n    }\n    .w-logo {\n        margin: 0;\n    }\n    .u-logo {\n        .size(50px);\n    }\n    .m-header {\n        .flex;\n        align-items: center;\n        justify-content: space-between;\n        padding-bottom: 20px;\n        border-bottom: 1px dashed #ccc;\n    }\n    .u-document {\n        padding: 20px 0;\n        font-size: 12px;\n        color: #999;\n    }\n}\n</style>\n","<template>\n    <header class=\"w-logo\">\n        <a :href=\"homepageUrl\" class=\"u-logo\"><img class=\"u-img\" svg-inline :src=\"logoUrl\" /></a>\n    </header>\n</template>\n\n<script>\nconst DEFAULT_APP = \"iruxu\";\nexport default {\n    name: \"CardHeader\",\n    props: {\n        app: {\n            type: String,\n            default: DEFAULT_APP,\n        },\n    },\n    data: function () {\n        return {};\n    },\n    computed: {\n        logoUrl() {\n            // return require(\"../../assets/img/logo/\" + (this.app || DEFAULT_APP) + \".svg\");\n            return require(\"../../assets/img/logo/\" + \"iruxu.svg\");\n        },\n        homepageUrl() {\n            // TODO: 从配置文件中读取\n            return \"/\";\n        },\n    },\n};\n</script>\n\n<style lang=\"less\">\n.w-logo {\n    margin: 20px 0;\n    margin-bottom: 40px;\n    .flex;\n    align-items: center;\n    justify-content: center;\n    .u-img {\n        width: 68%;\n        height: 68%;\n    }\n\n    .u-logo {\n        width: 100px;\n        height: 100px;\n        border-radius: 50%;\n        background-color: #fff;\n        box-shadow: 0 2px 6px #e6ecf1;\n        .db;\n        .flex;\n        align-items: center;\n        justify-content: center;\n    }\n}\n</style>\n","import { render } from \"./logo.vue?vue&type=template&id=3cfd37c7\"\nimport script from \"./logo.vue?vue&type=script&lang=js\"\nexport * from \"./logo.vue?vue&type=script&lang=js\"\n\nimport \"./logo.vue?vue&type=style&index=0&id=3cfd37c7&lang=less\"\n\nimport exportComponent from \"/home/runner/work/i/i/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./terms.vue?vue&type=template&id=56d907e2\"\nimport script from \"./terms.vue?vue&type=script&lang=js\"\nexport * from \"./terms.vue?vue&type=script&lang=js\"\n\nimport \"./terms.vue?vue&type=style&index=0&id=56d907e2&lang=less\"\n\nimport exportComponent from \"/home/runner/work/i/i/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["getDocument","slug","$cms","get","class","_createElementBlock","_createElementVNode","_createVNode","_component_logo","app","$data","_component_lang_select","lang","onChange","$options","innerHTML","href","homepageUrl","src","logoUrl","DEFAULT_APP","name","props","type","String","default","data","computed","__exports__","components","Logo","LangSelect","loading","document","User","isCn","this","mounted","search","URLSearchParams","location","has","load","methods","langChange","then","res","content","path","getCdnLink","fetch","ok","Error","status","text","catch","error","console","render"],"sourceRoot":""}