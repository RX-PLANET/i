"use strict";(self["webpackChunki"]=self["webpackChunki"]||[]).push([[484],{6430:function(e,a,r){r.d(a,{Z:function(){return b}});var s=r(6252),o=r(3577),t=r(9963);const l={class:"c-header"},i={class:"c-header_main"},d={class:"c-header-left"},n={key:0,class:"c-header__title"},c={key:1,class:"c-header__desc"},u={class:"c-header-right"},p={class:"c-header__profile"},m={class:"u-name"};function g(e,a,r,g,w,h){var f,_;const v=(0,s.up)("lang-select"),b=(0,s.up)("el-dropdown-item"),k=(0,s.up)("el-dropdown-menu"),$=(0,s.up)("el-dropdown");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",i,[(0,s._)("div",d,[null!==(f=h.routeMeta)&&void 0!==f&&f.title?((0,s.wg)(),(0,s.iD)("div",n,(0,o.zw)(h.routeMeta.title),1)):(0,s.kq)("",!0),null!==(_=h.routeMeta)&&void 0!==_&&_.desc?((0,s.wg)(),(0,s.iD)("div",c,(0,o.zw)(h.routeMeta.desc),1)):(0,s.kq)("",!0)]),(0,s._)("div",u,[(0,s.Wm)(v,{class:"c-header__lang",selected:"icon",onChange:h.onLangChange,lang:h.lang},null,8,["onChange","lang"]),(0,s.Wm)($,{trigger:"click"},{dropdown:(0,s.w5)((()=>[(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,{onClick:(0,t.iM)(h.logout,["stop"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.$t("account.common.logout")),1)])),_:1},8,["onClick"])])),_:1})])),default:(0,s.w5)((()=>[(0,s._)("div",p,[(0,s._)("span",m,(0,o.zw)(h.profile.username||h.profile.nickname),1)])])),_:1})])])])}var w=r(9158),h=r(2878),f={name:"PageHeader",data:function(){return{}},computed:{routeMeta(){return this.$route.meta},profile(){return this.$store.state.user},avatar(){var e;return(null===(e=this.profile)||void 0===e?void 0:e.avatar)&&"null"!=this.profile.avatar||r(9743)},app(){return this.$store.state.app},lang(){return w.Z.getLocale()}},watch:{},methods:{logout(){(0,h.kS)().then((()=>{w.Z.logout(),this.$router.push({name:"email-login"})}))},onLangChange(e){(0,h.gS)({lang:e},{app:this.app}).then((()=>{location.reload()}))}}},_=r(3744);const v=(0,_.Z)(f,[["render",g]]);var b=v},3697:function(e,a,r){r.r(a),r.d(a,{default:function(){return $}});var s=r(6252),o=r(3577),t=r.p+"img/password.157fead4.svg";const l={class:"p-bind p-change-password"},i={class:"m-change-password m-bind-block"},d={class:"m-bind-block__main"},n={class:"u-header"},c={class:"u-slogan"},u={class:"m-login-card m-card-main"},p={class:"m-card-form-label"},m={class:"m-card-form-label"};function g(e,a,r,g,w,h){const f=(0,s.up)("page-header"),_=(0,s.up)("el-input"),v=(0,s.up)("el-form-item"),b=(0,s.up)("el-form"),k=(0,s.up)("el-button");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(f),(0,s._)("div",i,[a[4]||(a[4]=(0,s._)("div",{class:"m-bind-block__pic"},[(0,s._)("img",{src:t})],-1)),(0,s._)("div",d,[(0,s._)("h1",n,(0,o.zw)(e.$t("security.nav.password")),1),(0,s._)("div",c,(0,o.zw)(e.$t("security.password.alert")),1),(0,s._)("div",u,[(0,s.Wm)(b,{class:"m-card-form","hide-required-asterisk":"",ref:"registerForm",model:w.form,rules:w.rules,size:"large","status-icon":"","label-position":"top"},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{prop:"password1"},{label:(0,s.w5)((()=>[(0,s._)("div",p,[(0,s._)("span",null,[(0,s.Uk)((0,o.zw)(e.$t("security.password.new")),1),a[2]||(a[2]=(0,s._)("i",{class:"is-required"},"*",-1))])])])),default:(0,s.w5)((()=>[(0,s.Wm)(_,{modelValue:w.form.password1,"onUpdate:modelValue":a[0]||(a[0]=e=>w.form.password1=e),modelModifiers:{trim:!0},type:"password",size:"large","show-password":"",placeholder:e.$t("security.password.new")},null,8,["modelValue","placeholder"])])),_:1}),(0,s.Wm)(v,{prop:"password2"},{label:(0,s.w5)((()=>[(0,s._)("div",m,[(0,s._)("span",null,[(0,s.Uk)((0,o.zw)(e.$t("security.password.repeat")),1),a[3]||(a[3]=(0,s._)("i",{class:"is-required"},"*",-1))])])])),default:(0,s.w5)((()=>[(0,s.Wm)(_,{modelValue:w.form.password2,"onUpdate:modelValue":a[1]||(a[1]=e=>w.form.password2=e),modelModifiers:{trim:!0},type:"password",size:"large","show-password":"",placeholder:e.$t("security.password.repeat")},null,8,["modelValue","placeholder"])])),_:1})])),_:1},8,["model","rules"]),(0,s.Wm)(k,{type:"primary",size:"large",disabled:!w.form.password1||!w.form.password2||w.loading,onClick:h.submit,loading:w.loading,style:{width:"100%"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.$t("notification.email.confirm")),1)])),_:1},8,["disabled","onClick","loading"])])])])])}var w=r(3907),h=r(2878),f=r(6430),_=r(9158),v={name:"dashboard-security-password",components:{pageHeader:f.Z},data(){return{form:{password1:"",password2:""},rules:{password1:[{required:!0,message:this.$t("account.common.passwordPlaceholder"),trigger:"blur"},{min:6,max:30,message:this.$t("account.common.passwordError"),trigger:"blur"}],password2:[{required:!0,message:this.$t("account.common.password2Placeholder"),trigger:"blur"},{min:6,max:30,message:this.$t("account.common.passwordError"),trigger:"blur"},{validator:(e,a,r)=>{a!==this.form.password1?r(new Error(this.$t("account.common.passwordError2"))):r()},trigger:"blur"}]},loading:!1}},computed:{...(0,w.rn)(["app"])},methods:{logout(){(0,h.kS)().then((()=>{_.Z.logout(),this.$router.replace({name:"email-login"})}))},submit(){this.$refs.registerForm.validate((e=>{if(e){this.loading=!0;const e={};"iruxu"!==this.app&&(e.app=this.app),(0,h.Cp)(this.form,e).then((()=>{this.$message.success(this.$t("security.password.changeSuccess")),this.logout()})).finally((()=>{this.loading=!1}))}}))}}},b=r(3744);const k=(0,b.Z)(v,[["render",g]]);var $=k},9743:function(e,a,r){e.exports=r.p+"img/test.2ffd992c.png"}}]);
//# sourceMappingURL=484.b698e260.js.map