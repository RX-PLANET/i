{"version":3,"file":"js/47.e0c00d27.js","mappings":"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","sources":["webpack://i/./src/service/email.js","webpack://i/./src/components/account/common/footer.vue","webpack://i/./src/components/account/common/footer.vue?db8a","webpack://i/./src/components/account/common/union.vue","webpack://i/./src/components/account/common/union.vue?9b74","webpack://i/./src/views/account/email/login.vue","webpack://i/./src/views/account/email/components/login.vue","webpack://i/./src/views/account/email/components/login.vue?a730","webpack://i/./src/views/account/email/login.vue?07af"],"sourcesContent":["import { $uc } from \"@iruxu/rx-common/utils/api\";\n\n// ============ 邮箱相关 ============\n/**\n * 查询邮箱是否可用\n * @param {String} email 邮箱\n * @returns {Promise}\n */\nexport async function checkEmail(email) {\n    return $uc()\n        .get(\"/api/uc/user/account/email/valid\", {\n            params: {\n                email,\n            },\n        })\n        .then((res) => res.data.data?.isExist);\n}\n\n/**\n * 注册账号 - 邮箱注册 发送验证码\n * @param {Object} data\n * @param {String} data.email 邮箱\n * @param {Object} params\n * @param {String} params.app 应用标识\n * @returns\n */\nexport function registerByEmail(data, params) {\n    return $uc().post(\"/api/uc/user/account/email/register\", data, {\n        params,\n    });\n}\n\n/**\n * 邮箱注册 - 激活\n * @param {Object} data\n * @param {String} data.token\n * @param {Object} params\n * @param {String} params.app 应用标识\n * @returns\n */\nexport function activeByEmail(data, params) {\n    return $uc({ mute: true }).post(\"/api/uc/user/account/email/active\", data, {\n        params,\n    });\n}\n\n/**\n * 邮箱登录\n * @param {Object} data\n * @param {String} data.email 邮箱\n * @param {String} data.password 密码\n * @param {Object} params\n * @param {String} params.app 应用标识\n * @returns\n */\nexport function loginByEmail(data, params) {\n    return $uc({ mute: true }).post(\"/api/uc/user/account/email/login\", data, {\n        params,\n    });\n}\n\n/**\n * 绑定邮箱\n * @param {Object} data\n * @param {String} data.email 邮箱\n * @param {Object} params\n * @param {String} params.app 应用标识\n * @returns\n */\nexport function bindEmail(data, params) {\n    return $uc().post(\"/api/uc/user/account/email/bind\", data, {\n        params,\n    });\n}\n\n/**\n * 验证邮箱\n * @param {Object} data\n * @param {String} data.code 验证码\n * @param {Object} params\n * @param {String} params.app 应用标识\n * @returns\n */\nexport function verifyEmail(data, params) {\n    return $uc().put(\"/api/uc/user/account/email/verify\", data, {\n        params,\n    });\n}\n\n/**\n * 找回密码\n * @param {Object} data\n * @param {String} data.email 邮箱\n * @param {Object} params\n * @param {String} params.app 应用标识\n * @returns\n */\nexport function findPassword(data, params) {\n    return $uc().post(\"/api/uc/user/account/email/forgot-password\", data, {\n        params,\n    });\n}\n\n/**\n * 重设密码\n * @param {Object} data\n * @param {String} data.email 邮箱\n * @param {String} data.code 验证码\n * @param {String} data.password 密码\n * @param {Object} params\n * @param {String} params.app 应用标识\n * @returns\n */\nexport function resetPassword(data, params) {\n    return $uc().put(\"/api/uc/user/account/email/reset-password\", data, {\n        params,\n    });\n}\n","<template>\n    <footer class=\"m-footer\">© RX-PLANET</footer>\n</template>\n\n<script>\nexport default {\n    name: \"RX-Footer\",\n    props: [],\n    components: {},\n    data: function () {\n        return {};\n    },\n    computed: {},\n    watch: {},\n    methods: {},\n    created: function () {},\n    mounted: function () {},\n};\n</script>\n\n<style lang=\"less\">\n.m-footer {\n    padding: 10px 0;\n    text-align: center;\n    font-size: 12px;\n    letter-spacing: 0.5px;\n    color: #999;\n    font-family: \"Trebuchet MS\", \"Lucida Sans Unicode\", \"Lucida Grande\", \"Lucida Sans\", Arial, sans-serif;\n}\n</style>\n","import { render } from \"./footer.vue?vue&type=template&id=f8199eda\"\nimport script from \"./footer.vue?vue&type=script&lang=js\"\nexport * from \"./footer.vue?vue&type=script&lang=js\"\n\nimport \"./footer.vue?vue&type=style&index=0&id=f8199eda&lang=less\"\n\nimport exportComponent from \"/home/runner/work/i/i/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"m-account-union\" v-if=\"includes.length\">\n        <div class=\"m-account-union__header\">\n            <span\n                ><el-icon><Star /></el-icon\n            ></span>\n        </div>\n        <div class=\"m-account-union__content\">\n            <a\n                class=\"m-account-union__item m-account-union__item--wechat\"\n                :href=\"getUnionLink('/user/union/wesite/')\"\n                v-if=\"includes.includes('wechat')\"\n            >\n                <img class=\"u-icon\" src=\"@/assets/img/union/wechat.svg\" />\n                <span class=\"u-label\">微信</span>\n            </a>\n        </div>\n    </div>\n</template>\n\n<script>\nimport User from \"@iruxu/rx-common/utils/user\";\nimport GlobalData from \"@iruxu/rx-common/data/global.json\";\nexport default {\n    name: \"AccountUnion\",\n    props: {\n        mode: {\n            type: String,\n            default: \"login\",\n        },\n        includes: {\n            type: Array,\n            default: () => [],\n        },\n    },\n    components: {},\n    data: function () {\n        return {\n            uc: GlobalData.__uc + \"/api/uc\",\n        };\n    },\n    computed: {\n        app() {\n            return this.$store.state.app;\n        },\n        lang() {\n            return User.getLocale();\n        },\n        unionLinkSuffix() {\n            return \"?app=\" + this.app + \"&lang=\" + this.lang;\n        },\n    },\n    watch: {},\n    methods: {\n        getUnionLink(path) {\n            return this.uc + path + this.mode + this.unionLinkSuffix;\n        },\n    },\n    created: function () {},\n    mounted: function () {},\n};\n</script>\n\n<style lang=\"less\">\n.m-account-union {\n    margin-top: 20px;\n}\n.m-account-union__header {\n    .x;\n    .pr;\n    &:before {\n        content: \"\";\n        display: block;\n        width: 100%;\n        border-bottom: 1px solid #eee;\n        top: 50%;\n        left: 0;\n        .pa;\n    }\n    .flex;\n    justify-content: center;\n    span {\n        background-color: #fff;\n        .pr;\n        .z(2);\n        padding: 0 10px;\n        color: #cbcccd;\n        .fz(16px);\n        .db;\n        .h(16px);\n    }\n    margin-bottom: 20px;\n}\n.m-account-union__item {\n    .r(6px);\n    .flex;\n    align-items: center;\n    height: 42px;\n    .pointer;\n}\n.m-account-union__item--wechat {\n    background-color: #00b30d;\n    &:hover {\n        background-color: lighten(#00b30d, 2%);\n    }\n    color: #fff;\n    justify-content: center;\n\n    .fz(12.2px);\n    font-weight: bold;\n\n    .u-icon {\n        .size(18px);\n        margin-right: 10px;\n    }\n}\n</style>\n","import { render } from \"./union.vue?vue&type=template&id=7eeeb835\"\nimport script from \"./union.vue?vue&type=script&lang=js\"\nexport * from \"./union.vue?vue&type=script&lang=js\"\n\nimport \"./union.vue?vue&type=style&index=0&id=7eeeb835&lang=less\"\n\nimport exportComponent from \"/home/runner/work/i/i/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"p-account p-account-email--login\">\n        <el-row class=\"m-container\" justify=\"center\">\n            <div class=\"m-login\">\n                <logo :app=\"app\" />\n                <login :app=\"app\" :registerLink=\"registerLink\" :resetPwdLink=\"resetPwdLink\"></login>\n            </div>\n        </el-row>\n        <Footer />\n    </div>\n</template>\n\n<script>\nimport login from \"@/views/account/email/components/login.vue\";\nimport Footer from \"@/components/account/common/footer.vue\";\nexport default {\n    name: \"AccountEmailLogin\",\n    components: {\n        login,\n        Footer,\n    },\n    data() {\n        return {\n            app: \"\",\n        };\n    },\n    computed: {\n        registerLink() {\n            const path = this.$router.resolve({ name: \"email-register\" });\n            return path.href;\n        },\n        resetPwdLink() {\n            const path = this.$router.resolve({ name: \"email-reset-password\" });\n            return path.href;\n        },\n    },\n    mounted() {\n        const search = new URLSearchParams(document.location.search);\n\n        if (search.has(\"app\")) {\n            this.app = search.get(\"app\");\n        } else {\n            this.app = \"miipet\";\n        }\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"@/assets/css/account/common.less\";\n@import \"@/assets/css/account/email/login.less\";\n</style>\n","<!-- 公共组件 邮件地址注册 -->\n<template>\n    <div class=\"m-card m-login-card\">\n        <card-header :title=\"$t('account.common.login')\">\n            <template #right>\n                <lang-select :lang=\"lang\" />\n            </template>\n        </card-header>\n\n        <div class=\"m-card-main\" v-if=\"!success\">\n            <el-form\n                class=\"m-card-form\"\n                hide-required-asterisk\n                ref=\"loginForm\"\n                label-position=\"top\"\n                :model=\"form\"\n                :rules=\"rules\"\n                size=\"large\"\n            >\n                <el-form-item prop=\"email\">\n                    <template #label>\n                        <div class=\"m-card-form-label\">\n                            <span>{{ $t(\"account.email.address\") }}</span>\n                        </div>\n                    </template>\n                    <el-input v-model.trim=\"form.email\" size=\"large\" tabindex=\"1\"></el-input>\n                </el-form-item>\n                <el-form-item prop=\"password\">\n                    <template #label>\n                        <div class=\"m-card-form-label\">\n                            <span>{{ $t(\"account.common.password\") }}</span>\n                            <span class=\"u-resetpwd\">\n                                <a :href=\"resetPwdLink\">{{ $t(\"account.email.forgetPassword\") }}?</a>\n                            </span>\n                        </div>\n                    </template>\n                    <el-input\n                        v-model.trim=\"form.password\"\n                        @keydown.enter=\"onLogin\"\n                        type=\"password\"\n                        size=\"large\"\n                        show-password\n                        tabindex=\"2\"\n                    >\n                    </el-input>\n                </el-form-item>\n            </el-form>\n            <el-alert class=\"u-alert\" v-if=\"error\" type=\"error\" show-icon :title=\"error\"></el-alert>\n            <el-button class=\"u-btn u-submit\" type=\"primary\" @click=\"onLogin\" tabindex=\"3\">{{\n                $t(\"account.common.login\")\n            }}</el-button>\n            <union mode=\"login\" :includes=\"['wechat']\" />\n        </div>\n\n        <div class=\"m-card-main\" v-else>\n            <el-alert\n                class=\"m-alert\"\n                :title=\"$t('account.common.loginSuccess')\"\n                type=\"success\"\n                :description=\"$t('account.common.loginSuccessDesc')\"\n                show-icon\n                :closable=\"false\"\n            >\n            </el-alert>\n            <a class=\"el-button u-btn el-button--primary u-skip\" :href=\"redirect\">{{ redirect_button }}</a>\n        </div>\n    </div>\n    <div class=\"m-footer\">\n        <div class=\"m-footer-skip\">\n            {{ $t(\"account.common.noAccount\") }}\n            <a class=\"u-link\" :href=\"registerLink\">{{ $t(\"account.common.registerNow\") }} 👉</a>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { loginByEmail } from \"@/service/email\";\nimport User from \"@iruxu/rx-common/utils/user\";\nimport union from \"@/components/account/common/union.vue\";\nexport default {\n    name: \"EmailLogin\",\n    components: {\n        union,\n    },\n    props: {\n        app: {\n            type: String,\n            default: \"\",\n        },\n        registerLink: {\n            type: String,\n            default: \"\",\n        },\n        resetPwdLink: {\n            type: String,\n            default: \"\",\n        },\n    },\n    data() {\n        return {\n            form: {\n                email: \"\",\n                password: \"\",\n            },\n\n            rules: {\n                email: [\n                    { required: true, message: this.$t(\"account.email.addressPlaceholder\"), trigger: \"blur\" },\n                    { type: \"email\", message: this.$t(\"account.email.addressError\"), trigger: [\"blur\"] },\n                ],\n                password: [\n                    { required: true, message: this.$t(\"account.common.passwordPlaceholder\"), trigger: \"blur\" },\n                    { min: 6, max: 30, message: this.$t(\"account.common.passwordError\"), trigger: \"blur\" },\n                ],\n            },\n\n            error: \"\",\n            success: false,\n\n            redirect: \"\",\n            redirect_button: \"\",\n            homepage: \"/\",\n        };\n    },\n    computed: {\n        canSubmit() {\n            return this.form.email && this.form.password;\n        },\n        lang() {\n            return User.getLocale();\n        },\n    },\n    mounted() {\n        // 生成特征码\n        User.generateFingerprint();\n\n        this.checkDirect();\n    },\n    methods: {\n        onLogin() {\n            this.error = \"\";\n            this.$refs.loginForm.validate(async (valid) => {\n                if (valid) {\n                    loginByEmail(this.form, { app: this.app })\n                        .then((res) => {\n                            this.$message.success(this.$t(\"account.common.loginSuccess\"));\n                            this.success = true;\n\n                            User.update(res.data.data).then(() => {\n                                this.skip();\n                            });\n                        })\n                        .catch((err) => {\n                            this.success = false;\n                            this.error = err.data?.msg || this.$t(\"account.email.loginFailed\");\n                        });\n                }\n            });\n        },\n        checkDirect() {\n            const search = new URLSearchParams(document.location.search);\n            const redirect = search.get(\"redirect\");\n\n            // 第三方登录跳转\n            sessionStorage.setItem(\"redirect\", redirect);\n\n            if (redirect) {\n                this.redirect = redirect;\n                this.redirect_button = this.$t(\"account.common.jump\");\n            } else {\n                this.redirect = this.homepage;\n                this.redirect_button = this.$t(\"account.common.backToHome\");\n            }\n        },\n        skip() {\n            if (this.redirect) {\n                setTimeout(() => {\n                    sessionStorage.setItem(\"redirect\", \"\");\n                    location.href = decodeURIComponent(this.redirect);\n                }, 1200);\n            }\n        },\n    },\n};\n</script>\n","import { render } from \"./login.vue?vue&type=template&id=5fb6c2cf\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/i/i/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./login.vue?vue&type=template&id=faf41c2c\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=faf41c2c&lang=less\"\n\nimport exportComponent from \"/home/runner/work/i/i/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["async","checkEmail","email","$uc","get","params","then","res","data","isExist","registerByEmail","post","activeByEmail","mute","loginByEmail","class","_createElementBlock","name","props","components","computed","watch","methods","created","mounted","__exports__","render","$props","length","_createElementVNode","_createVNode","_component_el_icon","_component_Star","includes","href","$options","src","_imports_0","mode","type","String","default","Array","uc","GlobalData","app","this","$store","state","lang","User","unionLinkSuffix","getUnionLink","path","_component_el_row","justify","_component_logo","$data","_component_login","registerLink","resetPwdLink","_component_Footer","_component_card_header","title","_ctx","right","_component_lang_select","_component_el_alert","description","closable","_hoisted_8","_component_el_form","ref","model","rules","size","_component_el_form_item","prop","label","_toDisplayString","_component_el_input","$event","trim","tabindex","_hoisted_6","password","onKeydown","_createBlock","_component_el_button","onClick","_component_union","_hoisted_11","union","form","required","message","$t","trigger","min","max","error","success","redirect","redirect_button","homepage","canSubmit","checkDirect","onLogin","$refs","loginForm","validate","valid","$message","skip","catch","err","msg","search","URLSearchParams","document","location","sessionStorage","setItem","setTimeout","decodeURIComponent","login","Footer","$router","resolve","has"],"sourceRoot":""}